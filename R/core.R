
#' Simulation using a recharge model
#' 
#' Performs a simulation of water recharge using a specific model. 
#'
#' The expected columns for the RCN data set input are:
#' * **climate_id** the climate cell ID
#' * **rcn_id**, the RCN cell ID
#' * **RCNII**
#' * **lon**
#' * **lat**
#'
#' The expected columns for the climate data set input are:
#' * **climate_id**
#' * **day**
#' * **month**
#' * **year**
#' * **t_mean**
#' * **p_tot**
#' * **lat**
#' 
#' The columns of the water budget data set output are:
#' * **year**
#' * **month**
#' * **VI**
#' * **t_mean**
#' * **runoff**
#' * **pet**
#' * **aet**
#' * **gwr**
#' * **runoff_2**
#' * **delta_reservoir**
#' * **rcn_id**
#'
#' @param obj The recharge object.
#' @param rcn The RCN values. Input can be a data.frame/data.table or a path to a data file.
#' @param climate The daily total precipitation (mm/d) and average daily temperature (Â°C). Input can be a data.frame/data.table or a path to a data file.
#' @param period The start and end years. If not provided, the start/end years will be extracted from the climate data.
#' @param nb_core The number of cores to use in the parallel computations. If not provided, all cores minus one will be used.
#' @param ... Other arguments passed to methods
#' 
#' @return The water budget
#' @rdname compute_recharge
#' @export
compute_recharge <- function(obj, rcn, climate, period = NULL, nb_core = NULL, ...) {
  UseMethod("compute_recharge")
}

#' @rdname compute_recharge
#' @method compute_recharge default
#' @export
compute_recharge.default <- function(obj, rcn, climate, period = NULL, nb_core = NULL, ...) {
  cat("The compute recharge function has no default model\n")
}

#' Write result as data files
#'
#' Export water budget.
#'
#' @param obj The recharge object.
#' @param water_budget The computed water budget.
#' @param output_dir The output directory where result files will be written. Default is current working directory.
#' @param ... Other arguments passed to methods
#' 
#' @rdname write_recharge_results
#' @export
write_recharge_results <- function(obj, water_budget, output_dir = getwd(), ...) {
  UseMethod("write_recharge_results")
}

#' @rdname write_recharge_results
#' @method write_recharge_results default
#' @export
write_recharge_results.default <- function(obj, water_budget, output_dir = getwd(), ...) {
  cat("The write recharge results function has no default model\n")
}

#' Write result as raster files
#'
#' Export raster for interannual runoff, aet and GWR.
#'
#' @param obj The recharge object.
#' @param water_budget The computed water budget. Input can be a data.frame/data.table or a path to a data file.
#' @param input_rcn The RCN values. Input can be a data.frame/data.table or a path to a data file.
#' @param crs The coordinate reference systems.
#' @param output_dir The output directory where result files will be written. Default is current working directory.
#' @param ... Other arguments passed to methods
#'
#' @rdname write_recharge_rasters
#' @export
write_recharge_rasters <- function(obj, water_budget, input_rcn, crs, output_dir = getwd(), ...) {
  UseMethod("write_recharge_rasters")
}

#' @rdname write_recharge_rasters
#' @method write_recharge_rasters default
#' @export
write_recharge_rasters.default <- function(obj, water_budget, input_rcn, crs, output_dir = getwd(), ...) {
  cat("The write recharge rasters function has no default model\n")
}