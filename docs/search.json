[{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Yannick Marcon. Maintainer, contributor. Emmanuel Dubois. Author, copyright holder.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Dubois E (2024). rechaRge: 'HydroBudget' – Groundwater Recharge Model. R package version 0.10.0,  https://hess.copernicus.org/articles/25/6567/2021/, https://borealisdata.ca/dataset.xhtml?persistentId=doi:10.5683/SP3/EUDV3H, https://github.com/gwrecharge/rechaRge/.","code":"@Manual{,   title = {rechaRge: 'HydroBudget' – Groundwater Recharge Model},   author = {Emmanuel Dubois},   year = {2024},   note = {R package version 0.10.0,  https://hess.copernicus.org/articles/25/6567/2021/, https://borealisdata.ca/dataset.xhtml?persistentId=doi:10.5683/SP3/EUDV3H},   url = {https://github.com/gwrecharge/rechaRge/}, }"},{"path":"/index.html","id":"recharge-cran-status-r-cmd-check","dir":"","previous_headings":"","what":"HydroBudget – Groundwater Recharge Model","title":"HydroBudget – Groundwater Recharge Model","text":"results survey used assess community expectations regarding package presented : https://github.com/gwrecharge/rechaRge-book/blob/main/community_survey/survey_main_results.md","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"HydroBudget – Groundwater Recharge Model","text":"Using remotes using pak","code":"remotes::install_github(\"gwrecharge/rechaRge\", ref = \"main\") pak::pkg_install(\"gwrecharge/rechaRge@main\")"},{"path":"/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"HydroBudget – Groundwater Recharge Model","text":"See hydrobudget-example-simulation.R hydrobudget-example-calibration.R.","code":""},{"path":"/index.html","id":"publication","dir":"","previous_headings":"","what":"Publication","title":"HydroBudget – Groundwater Recharge Model","text":"Original material HydroBudget – Groundwater recharge model R https://doi.org/10.5683/SP3/EUDV3H.","code":""},{"path":"/index.html","id":"general-information","dir":"","previous_headings":"Publication","what":"GENERAL INFORMATION","title":"HydroBudget – Groundwater Recharge Model","text":"Title: HydroBudget – Groundwater recharge model R Authors: Description: HydroBudget (HB) spatially distributed groundwater recharge (GWR) model computes superficial water budget grid cells outputs aggregated monthly time steps. developed accessible computationally affordable model simulate GWR large areas (thousands km2, regional-scale watersheds) long time periods (decades), cold humid climates. model coded R developed UQAM team Pr Marie Larocque’s research Chair (Water land conservation) part project funded Quebec Ministry Environment (Ministère de l’Environnement et de la Lutte contre les changements climatiques - MELCC). Results GWR simulation southern Quebec HB presented Dubois et al. (2021). Le model script furnished application example Petite du Chene River southern Quebec user guide. Date publication: 2021-11-05 Location dataset: Montréal, Quebec, Canada DOI dataset: 10.5683/SP3/EUDV3H Reference dataset: Dubois, E., Larocque, M., Gagné, S., Meyzonnat, G. (2021a). HydroBudget – Groundwater recharge model R. Scholars Portal Dataverse. doi: 10.5683/SP3/EUDV3H script tested within research team Pr Larocque making publicly available.","code":"Emmanuel Dubois UQAM  Marie Larocque UQAM  Sylvain Gagne UQAM  Guillaume Meyzonnat UQAM"},{"path":"/index.html","id":"access-information","dir":"","previous_headings":"Publication","what":"ACCESS INFORMATION","title":"HydroBudget – Groundwater Recharge Model","text":"Data licenses / restrictions, usage limitations: HydroBudget code, developed research team Pr Larocque, open-licensed therefore assigned CC licence. application example Petite du Chene River, climate data river flow observations provided training purpose . governmental licence (http://www.droitauteur.gouv.qc.ca/copyright.php): climate data extracted post-processed interpolated climate data provided MELCC (Bergeron, 2016) extend watershed Petite du Chene River. data available training purpose . River flow observations provided CEHQ (Centre de l’Expertise Hydrique du Quebec) raw data available : https://www.cehq.gouv.qc.ca/hydrometrie/historique_donnees/fiche_station.asp?NoStation=023701 https://www.cehq.gouv.qc.ca/hydrometrie/historique_donnees/fiche_station.asp?NoStation=023702 References datasets , respectively: Bergeron, O. (2016). Guide d’utilisation 2016 - Grilles climatiques quotidiennes du Programme de surveillance du climat du Québec, version 2 (User guide 2016 – Daily climate grids Quebec Climate monitoring program, version 2). Québec City (Canada) : ministère du Développement durable, de l’Environnement et de la Lutte contre les changements climatiques, Direction du suivi de l’état de l’environnement. CEHQ (Centre d’expertise hydrique du Québec). (2021). cehq.gouv.qc.ca website accessed November 2021. well, GIS files application example licence restrictions: L_watercourse_NRCAN_petite_riv_du_chene_NAD83.shp open government licence – Canada (https://open.canada.ca/en/open-government-licence-canada) S_gauging_station_watersheds_NAD83.shp government licence – Quebec (http://www.droitauteur.gouv.qc.ca/copyright.php) Associated publication: Dubois, E., Larocque, M., Gagné, S. Meyzonnat, G. (2021). Simulation long-term spatiotemporal variations regional-scale groundwater recharge: contributions water budget approach cold humid climates. Hydrology Earth System Sciences, 25(12), 6567‑6589. https://doi.org/10.5194/hess-25-6567-2021","code":""},{"path":"/index.html","id":"data--files-overview","dir":"","previous_headings":"Publication","what":"DATA & FILES OVERVIEW","title":"HydroBudget – Groundwater Recharge Model","text":"dataset composed 3 components: current READ_ME.txt file HydroBudget user-guide HydroBudget folder (17 files) HydroBudget folder contains different folders: folder 01-input contains input data station: name gauging station alpha: value calibrated alpha parameter climate_cell: ID 10 km x 10 km climate cell day: day date month: month date year: year date t_mean: average temperature day (°C) p_tot: total precipitation day (mm/d) lat: latitude climate cell center (°) climate_cell: ID 10 km x 10 km climate cell cell_ID: ID 500 m x 500 m RCN cell RCNII: value RCN computed RCN cell X_L93: x coordinate center RCN cell Y_L93: y coordinate center RCN cell cell_ID: ID 500 m x 500 m RCN cell gauging_stat: gauging station associated cell Note: Since watersheds two gauging stations can overlaying, RCN cells can associated two gauging stations; case, RCN cell ID appears twice table, gauging station year: year date month: month date day: day date 23701: measured river flow 23701 station (mm/d) 23702: measured river flow 23702 station (mm/d) Note: unavailable data (including flow measurements exist given period) marked “NA” (Available). Note: csv files “data.table” formatted R. extension files can change depending chosen downloading option. Note: Dataverse website, file extension input data .tab folder 02-scripts_HB contains R scripts 01-river_flow_data_processing.R: R script used process observed river flow rates. automatically fill gaps daily time series (5 missing days) select subset longest period river flow observations within simulation period station; extract list gauging stations observations simulation period; compute Lyne Hollick baseflow using calibrated α gauging stations; resample river flows baseflows monthly time step. 02-HB_function.R: R script containing HydroBudget function (HB). function run HB parallel grid cells watershed following Figure 1 processes. defining variables function (sections 1.1 1.4), first parallel loop runs degree-day model compute Oudin PET climate cell chosen simulation period (section 1.5 script). second parallel loop runs HB water partitioning RCN cell (section 1.6 script). start finish parallel loops, code needs changed model run computer without Windows environment (change package “doParallel” Windows package “doMC”). options non-Windows environment muted default. monthly spatialized averaged water budget saved working directory. well, function automatically analyzes results available gauging station based comparison simulated monthtly total flow (runoff + excess runoff + potential GWR) potential GWR monthly river flow baseflow (section 1.7). station code considers calibration period (first 2/3 observation period) validation period (last 1/3 observation period). last section (1.8) exports rasters interannual simulated runoff, AET, potential GWR resolution RCN grid NAD83 Quebec Lambert coordinates (EPSG: 32198) working directory. case RCN method needs adapted another version method, changes need done subsections 3.6.1.3 3.6.1.5 parallel loop model. folder 03-GIS_petite_du_chene contains GIS files application example Note: coordinates NAD83 Quebec Lambert (EPSG: 32198) Note: files associated shapefile compressed ZIP file L_watercourse_NRCAN_petite_riv_du_chene_NAD83.zip (lines): Petite du Chene River watercourse extracted simplified (one attribute name river) https://www.nrcan.gc.ca/science--data/science--research/earth-sciences/geography/topographic-information/geobase-surface-water-program-geeau/national-hydrographic-network/21361 P_gauging_stations_petite_riv_du_chene_NAD83.zip (points): location gauging station 3 attributes: station_id: name gauging station x_NAD83: x coordinate station y_NAD83: y coordinate station R_RCN_NAD83.tif (raster): raster RCN values RCN cells S_climate_grid_petite_riv_du_chene_NAD83.zip (polygons): 10 km x 10 km climate cells Petite du Chene River watershed (one attribute climate cell ID) S_gauging_station_watersheds_NAD83.zip (polygons): watersheds gauging stations (one attribute name gauging station) https://www.cehq.gouv.qc.ca/hydrometrie/index.htm S_grid_gauging_petite_riv_du_chene_NAD83.zip (polygons): grid gauging stations 3 attributes: cell_id: ID 500 m x 500 m RCN cell gauging_st: gauging station clim_cell: ID 10 km x 10 km climate cell Note: Since watersheds two gauging stations can overlaying, RCN cells can associated ; case, cell_id appears twice attribute table, gauging station S_grid_petite_riv_du_chene_NAD83.zip (polygons): grid river watershed 2 attributes: cell_id: ID 500 m x 500 m RCN cell clim_cell: ID 10 km x 10 km climate cell S_watershed_petite_riv_du_chene_simul_NAD83.zip (polygon): watershed Petite du Chene River (one attribute corresponding ID given watershed Dubois et al. (2021)) 00-demonstration_HB.Rproj: R project opens R scripts 01-HydroBudget.R (, manually load script R project) 01-HydroBudget.R: R script runs HB Petite du Chene River script run HB Petite du Chene River single set parameters. contains references inputs data located folder 01-input previously detailed references scripts located 02-scripts_HB. creates folder results, simulates water budget watershed, saves results entire watershed (spatially distributed, averaged watershed, averaged gauging station), computes objective functions 2 gauging stations per period ((KGEqtot)station, (KGEqbase)station, KGEmean calibration validation periods), saves summary simulation separate csv file; HydroBudget user guide provides details HydroBudget model well application example Petite du Chene River. cited : Dubois, E., Larocque, M., Gagné, S. et Meyzonnat, G. (2021). HydroBudget User Guide: Version 1.1. Université du Québec à Montréal. Département des sciences de la Terre et de l’atmosphere. https://archipel.uqam.ca/14075/","code":""},{"path":"/index.html","id":"information-on-methodology","dir":"","previous_headings":"Publication","what":"INFORMATION ON METHODOLOGY","title":"HydroBudget – Groundwater Recharge Model","text":"technical details, equations ruling model, sensitivity analysis, calibration procedure detailed HydroBudget user guide publication Dubois et al. (2021). Users invited refer documents information. packages used simulation groundwater recharge Hydrobuget model : data.table: (version 1.13.6) used optimize computation time plyr: (version 1.8.6) spilt-apply-combine tools lubridate: (version 1.8.0) work date zoo: (version 1.8.8 ) time gaps interpolation hydrostats: (version 0.2.7) compute baseflows Lyne Hollick filter stats: (version 4.0.3) find longest period without NA hydroGOF: (version 0.4.0) compute KGE stringr: (version 1.4.0) string operations sp: (version 1.4.5) work CRS (raster projections) raster: (version 3.4.5) export rasters airGR: (version 1.4.3.65) compute Oudin PET doParallel: (version 1.0.16) parallel computing Windows environment doMC: (version 1.3.7) parallel computing non-Windows environment /! need mute stopCluster(cluster) parallel loops","code":""},{"path":"/reference/KGE.html","id":null,"dir":"Reference","previous_headings":"","what":"Kling-Gupta Efficiency computation — KGE","title":"Kling-Gupta Efficiency computation — KGE","text":"Kling-Gupta Efficiency computation","code":""},{"path":"/reference/KGE.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Kling-Gupta Efficiency computation — KGE","text":"","code":"KGE(sim, obs)"},{"path":"/reference/KGE.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Kling-Gupta Efficiency computation — KGE","text":"sim simulated values obs observed values","code":""},{"path":"/reference/KGE.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Kling-Gupta Efficiency computation — KGE","text":"Kling-Gupta Efficiency 'sim' 'obs'","code":""},{"path":"/reference/compute_potential_evapotranspiration_cell.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute PET based on the Oudin formula — compute_potential_evapotranspiration_cell","title":"Compute PET based on the Oudin formula — compute_potential_evapotranspiration_cell","text":"Compute PET based Oudin formula","code":""},{"path":"/reference/compute_potential_evapotranspiration_cell.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute PET based on the Oudin formula — compute_potential_evapotranspiration_cell","text":"","code":"compute_potential_evapotranspiration_cell(obj, input_dd)"},{"path":"/reference/compute_potential_evapotranspiration_cell.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute PET based on the Oudin formula — compute_potential_evapotranspiration_cell","text":"obj HydroBudget object. input_dd Spatially distributed daily precipitation mean temperature time series single cell.","code":""},{"path":"/reference/compute_potential_evapotranspiration_cell.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute PET based on the Oudin formula — compute_potential_evapotranspiration_cell","text":"Spatially distributed daily PET","code":""},{"path":"/reference/compute_recharge.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulation using a recharge model — compute_recharge","title":"Simulation using a recharge model — compute_recharge","text":"Performs simulation water recharge using specific model. HydroBudget spatially distributed GWR model computes superficial water budget grid cells regional-scale watersheds. Runoff, actual evapotranspiration (AET), potential GWR simulated grid cell, monthly time step, fluxes transfer cell another (water routing). model inputs distributed daily precipitation temperature well distributed data pedology, land cover, slope.","code":""},{"path":"/reference/compute_recharge.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulation using a recharge model — compute_recharge","text":"","code":"compute_recharge(   obj,   rcn,   climate,   rcn_climate,   period = NULL,   workers = 1,   ... )  # S3 method for default compute_recharge(   obj,   rcn,   climate,   rcn_climate,   period = NULL,   workers = 1,   ... )  # S3 method for hydrobudget compute_recharge(   obj,   rcn,   climate,   rcn_climate,   period = NULL,   workers = 1,   ... )"},{"path":"/reference/compute_recharge.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulation using a recharge model — compute_recharge","text":"obj recharge object. rcn RCN values. Input can data.frame/data.table path data file. climate daily total precipitation (mm/d) average daily temperature (°C). Input can data.frame/data.table path data file. rcn_climate relation RCN climate cells. Input can data.frame/data.table path data file. period start end years. provided, start/end years extracted climate data. workers number workers use parallel computations. NULL, optimal number cores used. optimal number also maximum value. Default value 1 (parallelization). ... arguments passed methods","code":""},{"path":"/reference/compute_recharge.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulation using a recharge model — compute_recharge","text":"water budget","code":""},{"path":"/reference/compute_recharge.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulation using a recharge model — compute_recharge","text":"expected columns RCN data set input : rcn_id, RCN cell ID RCNII lon lat expected columns climate data set input : climate_id climate cell ID day month year t_mean p_tot lat expected columns RCN-climate data set input : climate_id climate cell ID rcn_id, RCN cell ID columns water budget data set output : year month vi t_mean runoff pet aet gwr runoff_2 delta_reservoir rcn_id","code":""},{"path":"/reference/compute_recharge.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulation using a recharge model — compute_recharge","text":"","code":"if (FALSE) { # Use input example files provided by the package base_url <- \"https://github.com/gwrecharge/rechaRge-book/raw/main/examples/input/\" input_rcn <- paste0(base_url, \"rcn.csv.gz\") input_climate <- paste0(base_url, \"climate.csv.gz\") input_rcn_climate <- paste0(base_url, \"rcn_climate.csv.gz\")  # Calibration parameters HB <- rechaRge::new_hydrobudget(   T_m = 2.1, # melting temperature (°C)   C_m = 6.2, # melting coefficient (mm/°C/d)   TT_F = -17.6, # Threshold temperature for soil frost (°C)   F_T = 16.4, # Freezing time (d)   t_API = 3.9, # Antecedent precipitation index time (d)   f_runoff = 0.63, # Runoff factor (-)   sw_m = 431, # Maximum soil water content (mm)   f_inf = 0.07 # infiltration factor (-) )  # Simulation period simul_period <- c(2010, 2017)  # Parallel computing option # workers <- 6  # Simulation with the HydroBudget model water_budget <- rechaRge::compute_recharge(   HB,   rcn = input_rcn,   climate = input_climate,   rcn_climate = input_rcn_climate,   period = simul_period   # workers = workers ) head(water_budget) }"},{"path":"/reference/compute_simulation_quality_assessment.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulation quality assessment — compute_simulation_quality_assessment","title":"Simulation quality assessment — compute_simulation_quality_assessment","text":"Evaluates simulated water budget average KGE.","code":""},{"path":"/reference/compute_simulation_quality_assessment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulation quality assessment — compute_simulation_quality_assessment","text":"","code":"compute_simulation_quality_assessment(   obj,   water_budget,   rcn_gauging,   observed_flow,   alpha_lyne_hollick,   period = NULL )"},{"path":"/reference/compute_simulation_quality_assessment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulation quality assessment — compute_simulation_quality_assessment","text":"obj HydroBudget object calibration parameters column names mappings. water_budget computed water budget. Input can data.frame/data.table path data file. rcn_gauging table list RCN cells located gauging station watershed. Input can data.frame/data.table path data file. observed_flow flow rates mm/day. Input can data.frame/data.table path data file. alpha_lyne_hollick Lyne Hollick filter. Input can data.frame/data.table path data file. period start end years. provided, start/end years extracted water budget data.","code":""},{"path":"/reference/compute_simulation_quality_assessment.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulation quality assessment — compute_simulation_quality_assessment","text":"columns water budget data set input : year month vi t_mean runoff pet aet gwr runoff_2 delta_reservoir rcn_id columns observed flow data set input : year month day one column per station (named station ID), flow rates mm/day columns RCN gauging stations data set input : rcn_id, cell ID station_id, station ID columns Lyne Hollick filter data set input : station_id, station ID alpha","code":""},{"path":"/reference/compute_simulation_quality_assessment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulation quality assessment — compute_simulation_quality_assessment","text":"","code":"if (FALSE) { # Use input example files provided by the package base_url <- \"https://github.com/gwrecharge/rechaRge-book/raw/main/examples/input/\" input_rcn_gauging <- paste0(base_url, \"rcn_gauging.csv.gz\") input_observed_flow <- paste0(base_url, \"observed_flow.csv.gz\") input_alpha_lyne_hollick <- paste0(base_url, \"alpha_lyne_hollick.csv.gz\")  # Calibration parameters HB <- rechaRge::new_hydrobudget(   T_m = 2.1, # melting temperature (°C)   C_m = 6.2, # melting coefficient (mm/°C/d)   TT_F = -17.6, # Threshold temperature for soil frost (°C)   F_T = 16.4, # Freezing time (d)   t_API = 3.9, # Antecedent precipitation index time (d)   f_runoff = 0.63, # Runoff factor (-)   sw_m = 431, # Maximum soil water content (mm)   f_inf = 0.07 # infiltration factor (-) )  # ... compute the water budget ...  result <- compute_simulation_quality_assessment(   HB,   water_budget = water_budget,   rcn_gauging = input_rcn_gauging,   observed_flow = input_observed_flow,   alpha_lyne_hollick = input_alpha_lyne_hollick,   period = simul_period ) }"},{"path":"/reference/compute_vertical_inflow.html","id":null,"dir":"Reference","previous_headings":"","what":"Determine if precipitation is rain or snow and simulate the snowpack (accumulation\nand melt) to compute the vertical inflow (vi), the liquid water available per day (rainfall + melt water). — compute_vertical_inflow","title":"Determine if precipitation is rain or snow and simulate the snowpack (accumulation\nand melt) to compute the vertical inflow (vi), the liquid water available per day (rainfall + melt water). — compute_vertical_inflow","text":"Determine precipitation rain snow simulate snowpack (accumulation melt) compute vertical inflow (vi), liquid water available per day (rainfall + melt water).","code":""},{"path":"/reference/compute_vertical_inflow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Determine if precipitation is rain or snow and simulate the snowpack (accumulation\nand melt) to compute the vertical inflow (vi), the liquid water available per day (rainfall + melt water). — compute_vertical_inflow","text":"","code":"compute_vertical_inflow(obj, climate_data, workers)"},{"path":"/reference/compute_vertical_inflow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Determine if precipitation is rain or snow and simulate the snowpack (accumulation\nand melt) to compute the vertical inflow (vi), the liquid water available per day (rainfall + melt water). — compute_vertical_inflow","text":"obj HydroBudget object. climate_data daily total precipitation (mm/d) average daily temperature (°C). workers number workers use parallel computations.","code":""},{"path":"/reference/compute_vertical_inflow_cell.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the vertical inflow and the potential evapotranspiration (PET) for a single cell — compute_vertical_inflow_cell","title":"Compute the vertical inflow and the potential evapotranspiration (PET) for a single cell — compute_vertical_inflow_cell","text":"Compute vertical inflow potential evapotranspiration (PET) single cell","code":""},{"path":"/reference/compute_vertical_inflow_cell.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the vertical inflow and the potential evapotranspiration (PET) for a single cell — compute_vertical_inflow_cell","text":"","code":"compute_vertical_inflow_cell(obj, input_dd)"},{"path":"/reference/compute_vertical_inflow_cell.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the vertical inflow and the potential evapotranspiration (PET) for a single cell — compute_vertical_inflow_cell","text":"obj HydroBudget object. input_dd Spatially distributed daily precipitation mean temperature time series single cell.","code":""},{"path":"/reference/compute_water_budget.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the water budget — compute_water_budget","title":"Compute the water budget — compute_water_budget","text":"Compute water budget","code":""},{"path":"/reference/compute_water_budget.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the water budget — compute_water_budget","text":"","code":"compute_water_budget(obj, rcn_data, climate_data, workers)"},{"path":"/reference/compute_water_budget.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the water budget — compute_water_budget","text":"obj HydroBudget object. rcn_data RCN values. climate_data daily total precipitation (mm/d) average daily temperature (°C). workers number workers use parallel computations.","code":""},{"path":"/reference/compute_water_budget_cell.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the water budget for a single cell — compute_water_budget_cell","title":"Compute the water budget for a single cell — compute_water_budget_cell","text":"Compute water budget single cell","code":""},{"path":"/reference/compute_water_budget_cell.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the water budget for a single cell — compute_water_budget_cell","text":"","code":"compute_water_budget_cell(obj, rcn_climate)"},{"path":"/reference/compute_water_budget_cell.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the water budget for a single cell — compute_water_budget_cell","text":"obj HydroBudget object. rcn_climate RCN values climate data (daily total precipitation (mm/d) average daily temperature (°C)) single cell.","code":""},{"path":"/reference/dot-as.data.table.html","id":null,"dir":"Reference","previous_headings":"","what":"Make a data.table from input: coerce it or read it (if it is a file path) and ensure column names — .as.data.table","title":"Make a data.table from input: coerce it or read it (if it is a file path) and ensure column names — .as.data.table","text":"Make data.table input: coerce read (file path) ensure column names","code":""},{"path":"/reference/dot-as.data.table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make a data.table from input: coerce it or read it (if it is a file path) and ensure column names — .as.data.table","text":"","code":".as.data.table(input, colmap = NULL)"},{"path":"/reference/dot-is.verbose.html","id":null,"dir":"Reference","previous_headings":"","what":"Make a data.table from input: coerce it or read it (if it is a file path) and ensure column names — .is.verbose","title":"Make a data.table from input: coerce it or read it (if it is a file path) and ensure column names — .is.verbose","text":"Make data.table input: coerce read (file path) ensure column names","code":""},{"path":"/reference/dot-is.verbose.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make a data.table from input: coerce it or read it (if it is a file path) and ensure column names — .is.verbose","text":"","code":".is.verbose()"},{"path":"/reference/dot-make_cluster.html","id":null,"dir":"Reference","previous_headings":"","what":"Make the computation cluster — .make_cluster","title":"Make the computation cluster — .make_cluster","text":"Make computation cluster","code":""},{"path":"/reference/dot-make_cluster.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make the computation cluster — .make_cluster","text":"","code":".make_cluster(nb_core)"},{"path":"/reference/dot-newProgress.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a new progress instance with default settings. — .newProgress","title":"Create a new progress instance with default settings. — .newProgress","text":"Create new progress instance default settings.","code":""},{"path":"/reference/dot-newProgress.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a new progress instance with default settings. — .newProgress","text":"","code":".newProgress(   format = \"  :what [:bar] :current/:total | :elapsed\",   clear = getOption(\"recharge.progress.clear\", !interactive()),   total,   width = 100 )"},{"path":"/reference/dot-stop_cluster.html","id":null,"dir":"Reference","previous_headings":"","what":"Stop the computation cluster — .stop_cluster","title":"Stop the computation cluster — .stop_cluster","text":"Stop computation cluster","code":""},{"path":"/reference/dot-stop_cluster.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stop the computation cluster — .stop_cluster","text":"","code":".stop_cluster(cluster)"},{"path":"/reference/dot-tickProgress.html","id":null,"dir":"Reference","previous_headings":"","what":"Update and increment the progress status if option ","title":"Update and increment the progress status if option ","text":"Update increment progress status option \"recharge.progress\" TRUE.","code":""},{"path":"/reference/dot-tickProgress.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update and increment the progress status if option ","text":"","code":".tickProgress(progress, tokens = list())"},{"path":"/reference/dot-updateProgress.html","id":null,"dir":"Reference","previous_headings":"","what":"Update the progress status if option ","title":"Update the progress status if option ","text":"Update progress status option \"recharge.progress\" TRUE.","code":""},{"path":"/reference/dot-updateProgress.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update the progress status if option ","text":"","code":".updateProgress(progress, step, total, tokens = list())"},{"path":"/reference/evaluate_simulation_quality.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluate the quality of the simulation result — evaluate_simulation_quality","title":"Evaluate the quality of the simulation result — evaluate_simulation_quality","text":"simulation result, evaluate quality comparing observations. quality measurement can used model calibration (e.g. caRamel package) sensitivity evaluation (e.g. sensitivity package). Evaluates simulated water budget average KGE.","code":""},{"path":"/reference/evaluate_simulation_quality.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evaluate the quality of the simulation result — evaluate_simulation_quality","text":"","code":"evaluate_simulation_quality(obj, water_budget, ...)  # S3 method for default evaluate_simulation_quality(obj, water_budget, ...)  # S3 method for hydrobudget evaluate_simulation_quality(   obj,   water_budget,   rcn_gauging,   observed_flow,   alpha_lyne_hollick,   period = NULL,   ... )"},{"path":"/reference/evaluate_simulation_quality.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Evaluate the quality of the simulation result — evaluate_simulation_quality","text":"obj HydroBudget object calibration parameters column names mappings. water_budget computed water budget. Input can data.frame/data.table path data file. ... arguments passed methods rcn_gauging table list RCN cells located gauging station watershed. Input can data.frame/data.table path data file. observed_flow flow rates mm/day. Input can data.frame/data.table path data file. alpha_lyne_hollick Lyne Hollick filter. Input can data.frame/data.table path data file. period start end years. provided, start/end years extracted water budget data.","code":""},{"path":"/reference/evaluate_simulation_quality.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Evaluate the quality of the simulation result — evaluate_simulation_quality","text":"columns water budget data set input : year month vi t_mean runoff pet aet gwr runoff_2 delta_reservoir rcn_id columns observed flow data set input : year month day one column per station (named station ID), flow rates mm/day columns RCN gauging stations data set input : rcn_id, cell ID station_id, station ID columns Lyne Hollick filter data set input : station_id, station ID alpha","code":""},{"path":"/reference/evaluate_simulation_quality.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Evaluate the quality of the simulation result — evaluate_simulation_quality","text":"","code":"if (FALSE) { # Use input example files provided by the package base_url <- \"https://github.com/gwrecharge/rechaRge-book/raw/main/examples/input/\" input_rcn_gauging <- paste0(base_url, \"rcn_gauging.csv.gz\") input_observed_flow <- paste0(base_url, \"observed_flow.csv.gz\") input_alpha_lyne_hollick <- paste0(base_url, \"alpha_lyne_hollick.csv.gz\")  # Calibration parameters HB <- rechaRge::new_hydrobudget(   T_m = 2.1, # melting temperature (°C)   C_m = 6.2, # melting coefficient (mm/°C/d)   TT_F = -17.6, # Threshold temperature for soil frost (°C)   F_T = 16.4, # Freezing time (d)   t_API = 3.9, # Antecedent precipitation index time (d)   f_runoff = 0.63, # Runoff factor (-)   sw_m = 431, # Maximum soil water content (mm)   f_inf = 0.07 # infiltration factor (-) )  # ... compute the water budget ...  result <- evaluate_simulation_quality(   HB,   water_budget = water_budget,   rcn_gauging = input_rcn_gauging,   observed_flow = input_observed_flow,   alpha_lyne_hollick = input_alpha_lyne_hollick,   period = simul_period ) }"},{"path":"/reference/new_hydrobugdet.html","id":null,"dir":"Reference","previous_headings":"","what":"HydroBudget object — new_hydrobugdet","title":"HydroBudget object — new_hydrobugdet","text":"Make new HydroBudget object, providing calibration parameters model computation.","code":""},{"path":"/reference/new_hydrobugdet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"HydroBudget object — new_hydrobugdet","text":"","code":"new_hydrobugdet(T_m, C_m, TT_F, F_T, t_API, f_runoff, sw_m, f_inf)"},{"path":"/reference/new_hydrobugdet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"HydroBudget object — new_hydrobugdet","text":"T_m melting temperature (°C) C_m melting coefficient (mm/°C/d) TT_F Threshold temperature soil frost (°C) F_T freezing time (d) t_API antecedent precipitation index time (d) f_runoff runoff factor (-) sw_m maximum soil water content (mm) f_inf infiltration factor (-)","code":""},{"path":"/reference/new_hydrobugdet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"HydroBudget object — new_hydrobugdet","text":"object class hydrobudget","code":""},{"path":"/reference/process_river_flow.html","id":null,"dir":"Reference","previous_headings":"","what":"River flow processing — process_river_flow","title":"River flow processing — process_river_flow","text":"Processing river flow compute baseflow Lyne Hollick resample monthly observations : select available river flow observations simulation period fill gaps (5 missing days), extract list available gauging stations simulation period (list names), compute Lyne Hollick baseflow resample river flow baseflow monthly time step.","code":""},{"path":"/reference/process_river_flow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"River flow processing — process_river_flow","text":"","code":"process_river_flow(obj, observed_flow, alpha_lyne_hollick)"},{"path":"/reference/process_river_flow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"River flow processing — process_river_flow","text":"obj HydroBudget object calibration parameters column names mappings. observed_flow flow rates mm/day. Input can data.frame/data.table path data file. alpha_lyne_hollick Lyne Hollick filter. Input can data.frame/data.table path data file.","code":""},{"path":"/reference/process_river_flow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"River flow processing — process_river_flow","text":"list observed_flow_month gauging","code":""},{"path":"/reference/with_progress.html","id":null,"dir":"Reference","previous_headings":"","what":"Progress option — with_progress","title":"Progress option — with_progress","text":"Progress option","code":""},{"path":"/reference/with_progress.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Progress option — with_progress","text":"","code":"with_progress(progress = TRUE)"},{"path":"/reference/with_progress.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Progress option — with_progress","text":"progress Logical set progress bar","code":""},{"path":"/reference/with_verbose.html","id":null,"dir":"Reference","previous_headings":"","what":"Verbose option — with_verbose","title":"Verbose option — with_verbose","text":"Verbose option","code":""},{"path":"/reference/with_verbose.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Verbose option — with_verbose","text":"","code":"with_verbose(verbose = TRUE)"},{"path":"/reference/with_verbose.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Verbose option — with_verbose","text":"verbose Logical set verbose messages","code":""},{"path":"/reference/write_recharge_rasters.html","id":null,"dir":"Reference","previous_headings":"","what":"Write result as raster files — write_recharge_rasters","title":"Write result as raster files — write_recharge_rasters","text":"Export raster interannual runoff, aet GWR.","code":""},{"path":"/reference/write_recharge_rasters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write result as raster files — write_recharge_rasters","text":"","code":"write_recharge_rasters(   obj,   water_budget,   input_rcn,   crs,   output_dir = getwd(),   ... )  # S3 method for default write_recharge_rasters(   obj,   water_budget,   input_rcn,   crs,   output_dir = getwd(),   ... )  # S3 method for hydrobudget write_recharge_rasters(   obj,   water_budget,   input_rcn,   crs,   output_dir = getwd(),   ... )"},{"path":"/reference/write_recharge_rasters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write result as raster files — write_recharge_rasters","text":"obj recharge object. water_budget computed water budget. Input can data.frame/data.table path data file. input_rcn RCN values. Input can data.frame/data.table path data file. crs coordinate reference systems. output_dir output directory result files written. Default current working directory. ... arguments passed methods","code":""},{"path":"/reference/write_recharge_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Write result as data files — write_recharge_results","title":"Write result as data files — write_recharge_results","text":"Export water budget. Supported formats \"csv\" (default) \"nc\" (NetCDF).","code":""},{"path":"/reference/write_recharge_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write result as data files — write_recharge_results","text":"","code":"write_recharge_results(obj, water_budget, output_dir = getwd(), ...)  # S3 method for default write_recharge_results(obj, water_budget, output_dir = getwd(), ...)  # S3 method for hydrobudget write_recharge_results(   obj,   water_budget,   output_dir = getwd(),   format = \"csv\",   input_rcn = NULL,   names = list(lon = list(longname = \"Longitude\", unit = \"deg\"), lat = list(longname =     \"Lattitude\", unit = \"deg\"), time = list(longname =     \"Month since start of the water budget\", unit = \"month\")),   ... )"},{"path":"/reference/write_recharge_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write result as data files — write_recharge_results","text":"obj recharge object. water_budget computed water budget. output_dir output directory result files written. Default current working directory. ... arguments passed methods format file output format. Use \"nc\" NetCDF format. Default \"csv\". input_rcn RCN values. Input can data.frame/data.table path data file. names long names units NetCDF dimensions.","code":""}]
